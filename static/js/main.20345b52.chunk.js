(this.webpackJsonpaisistant=this.webpackJsonpaisistant||[]).push([[0],{100:function(e,A,t){"use strict";t.r(A);var n=t(3),s=t.n(n),c=t(34),i=t.n(c),a=(t(57),t(19)),g=t.n(a),r=t(25),o=t(4),l=t.p+"static/media/ilus-bg.f92af023.svg",d=(t(59),t(1)),u=function(){return Object(d.jsx)("div",{className:"ilus",children:Object(d.jsx)("img",{src:l,className:"ilus",alt:"ilus"})})},m=t.p+"static/media/logo.35e8cf26.svg",j=(t(61),function(){return Object(d.jsxs)("div",{className:"logo",children:[Object(d.jsx)("img",{src:m,className:"logo-img",alt:"logo"}),Object(d.jsx)("h3",{className:"logo-text",children:"AiSistant"})]})}),h=(t(62),function(){return Object(d.jsx)("div",{id:"rights",children:Object(d.jsx)("p",{children:"\xa9 Messenger by Fistrba 2021. All rights reserved."})})}),f=t.p+"static/media/wave-tr.6229c48f.svg",b=(t(63),function(){return Object(d.jsx)("div",{className:"wave",children:Object(d.jsx)("img",{src:f,className:"wave",alt:"wave"})})}),O=function(){return Object(d.jsxs)("div",{id:"beuty-content",children:[Object(d.jsx)(j,{}),Object(d.jsx)(b,{}),Object(d.jsx)(u,{}),Object(d.jsx)(h,{})]})},p=(t(64),t(46)),F=t.n(p),k=t(47),C=t.n(k),v=t(48),x=t.n(v),I=t(40),B=t.n(I),S=t(41),Q=t.n(S),U=(t(65),function(e){var A=e.input_name,t=e.input_icon,n=e.input_type,s=e.input_visi,c=e.changePS,i=e.password_visibility,a=e.input_value,g=e.changeTarget,r=e.emailAnimation,o=e.passwordAnimation;return Object(d.jsxs)("div",{className:"input",children:["person"===t&&Object(d.jsx)(F.a,{className:""}),"email"===t&&Object(d.jsx)(C.a,{className:r?"icon_ani":" "}),"lock"===t&&Object(d.jsx)(x.a,{className:o?"icon_ani":" "}),Object(d.jsx)("input",{placeholder:A,type:n,onChange:g,value:a,required:!0}),i?"visi"===s&&Object(d.jsx)(B.a,{className:"visibility-password",onClick:c}):"visi"===s&&Object(d.jsx)(Q.a,{className:"visibility-password",onClick:c}),i?"visi_con"===s&&Object(d.jsx)(B.a,{className:"visibility-password",onClick:c}):"visi_con"===s&&Object(d.jsx)(Q.a,{className:"visibility-password",onClick:c})]})}),E=(t(71),t(18)),N=function(e){var A=e.end_name_btn,t=e.end_question,n=e.btn_click;return Object(d.jsxs)("div",{className:"form-flex-column-center",children:[Object(d.jsx)("button",{className:"btn-form",onClick:n,type:"submit",children:A}),"sign-in"===t&&Object(d.jsxs)("p",{className:"have-account",children:["Do you have an account ? ",Object(d.jsx)("span",{className:"form-link",children:Object(d.jsx)(E.b,{to:"/",children:"Sign In"})})]}),"sign-up"===t&&Object(d.jsxs)("p",{className:"have-account",children:["Don't have any account ? ",Object(d.jsx)("span",{className:"form-link",children:Object(d.jsx)(E.b,{to:"/sign_up",children:"Sign Up"})})]}),"sign-up"===t&&Object(d.jsxs)("p",{className:"have-account",children:["Do you forgot password ? ",Object(d.jsx)("span",{children:Object(d.jsx)(E.b,{to:"/forgot_password",children:"Forgot Password"})})]}),Object(d.jsx)("p",{className:"form-rights",children:"\xa9 Messenger by Fistrba 2021. All rights reserved."})]})},w=t.p+"static/media/logo-wh.9970e266.svg",T=(t(75),t(76),function(e){var A=e.error_form;return Object(d.jsx)("div",{id:"error-form",children:Object(d.jsx)("p",{children:A})})}),y=function(e){var A=e.start_name_title,t=e.error_form;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("img",{src:w,alt:"logo",className:"form-logo"}),Object(d.jsx)("div",{className:"title",children:Object(d.jsx)("h3",{children:A})}),Object(d.jsx)(T,{error_form:t})]})},q=function(e){var A=Object(n.useState)(!1),t=Object(o.a)(A,2),s=t[0],c=t[1],i=Object(n.useState)(!1),a=Object(o.a)(i,2),g=a[0],r=a[1],l=Object(n.useState)("password"),u=Object(o.a)(l,2),m=u[0],j=u[1],h=Object(n.useState)("password"),f=Object(o.a)(h,2),b=f[0],O=f[1],p=e.start_name_title;return Object(d.jsx)("form",{id:"form",children:Object(d.jsx)("div",{className:"form-wrapper",children:Object(d.jsxs)("div",{className:"form-container",children:[Object(d.jsx)(y,{start_name_title:p,error_form:e.error_form}),Object(d.jsxs)("div",{className:"inputs",children:[e.firstlast&&Object(d.jsxs)("div",{className:"flex-inputs",children:[Object(d.jsx)(U,{input_name:"First Name",input_type:"text",input_icon:"person",input_value:e.firstName,changeTarget:e.changeTargets.firstName}),Object(d.jsx)(U,{input_name:"Last Name",input_type:"text",input_icon:"person",input_value:e.lastName,changeTarget:e.changeTargets.lastName})]}),e.emailInput&&Object(d.jsx)(U,{input_name:"Email",input_type:"text",input_icon:"email",input_value:e.email,changeTarget:e.changeTargets.email,emailAnimation:e.emailAnimation}),e.passwordInput&&Object(d.jsx)(U,{input_name:"Password",input_type:m,input_icon:"lock",input_visi:"visi",changePS:function(){s?(j("password"),c(!1)):(j("text"),c(!0))},password_visibility:s,input_value:e.password,changeTarget:e.changeTargets.password,passwordAnimation:e.passwordAnimation}),e.password_confirm&&Object(d.jsx)(U,{input_name:"Password Confrim",input_type:b,input_icon:"lock",input_visi:"visi_con",changePS:function(){g?(O("password"),r(!1)):(O("text"),r(!0))},password_visibility:g,input_value:e.passwordConfirm,changeTarget:e.changeTargets.passwordConfirm,passwordAnimation:e.passwordAnimation})]}),Object(d.jsx)(N,{end_name_btn:e.end_name_btn,end_question:e.end_question,btn_click:e.btn_click})]})})})},D=t(12),V=t(33),P=(t(45),V.a.initializeApp({apiKey:"AIzaSyA4KYfiqd_mek2VuqVuRX9dfoby1lVn4Rc",authDomain:"aisistant-177ee.firebaseapp.com",databaseURL:"https://aisistant-177ee-default-rtdb.europe-west1.firebasedatabase.app",projectId:"aisistant-177ee",storageBucket:"aisistant-177ee.appspot.com",messagingSenderId:"366158386758",appId:"1:366158386758:web:35d2c2430caed0de51dc47"})),_=V.a.firestore(),M=V.a.database(),W=V.a.storage(),Y=P.auth(),L=P,K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA6gAAAOoCAYAAADcQdkoAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACMvSURBVHgB7d1rc1JZ2sfhlZOamESdtuf7fzlfdLfHnM956mae7ThqCBs28Aeuq4oi2jNdXSEEfvtea7H14cOHxwYAAABLtt0AAAAggEAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAggkAFAAAg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QASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgAAQASBCgANAEggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIggUAEAAIjwf1BitX3PI0VjAAAAAElFTkSuQmCC",R=(t(80),function(){return Object(d.jsx)("div",{id:"loading",children:Object(d.jsxs)("svg",{width:"425",height:"403",viewBox:"0 0 425 403",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(d.jsx)("rect",{className:"rect_3",x:"302.895",y:"22.0183",width:"101.741",height:"380.925",rx:"50.8705",fill:"#625AC0","fill-opacity":"0.83"}),Object(d.jsx)("rect",{className:"rect_4",x:"13.9487",y:"231.206",width:"101.741",height:"171.746",rx:"50.8705",fill:"#625AC0","fill-opacity":"0.83"}),Object(d.jsx)("rect",{className:"rect_1",width:"106",height:"313.759",rx:"52.9999",transform:"matrix(0.678698 -0.734418 0.678698 0.734418 0 78.8154)",fill:"#625AC0","fill-opacity":"0.83"}),Object(d.jsx)("rect",{className:"rect_2",width:"106",height:"313.759",rx:"52.9999",transform:"matrix(0.678698 0.734418 -0.678698 0.734418 353.059 0)",fill:"#625AC0","fill-opacity":"0.83"})]})})}),J=s.a.createContext();function X(){return Object(n.useContext)(J)}function H(e){var A,t=e.children,s=Object(n.useState)(),c=Object(o.a)(s,2),i=c[0],a=c[1],g=Object(n.useState)(!0),r=Object(o.a)(g,2),l=r[0],u=r[1];function m(e){return i.updatePassword(e)}Object(n.useEffect)((function(){return Y.onAuthStateChanged((function(e){a(e),u(!1)}))}),[]);var j=(A={currentUser:i,login:function(e,A){return Y.signInWithEmailAndPassword(e,A)},signup:function(e,A,t,n){return Y.createUserWithEmailAndPassword(e,A).then((function(A){var s=L.auth().currentUser,c=(new Date).valueOf(),i=new Date(c);console.log(i.getTime()),console.log(i),_.collection("users").doc(s.uid).set({firstName:t,lastName:n,email:e,userId:s.uid,firstLogin:i.getTime()})})).catch((function(e){}))},logout:function(){return Y.signOut()},resetPassword:function(e){return Y.sendPasswordResetEmail(e)},updateEmail:function(e){return i.updateEmail(e)},updatePassword:m},Object(D.a)(A,"updatePassword",m),Object(D.a)(A,"updateDisplayName",(function(e){return i.updateProfile({displayName:e})})),A);return Object(d.jsx)(J.Provider,{value:j,children:!l&&t})}var G=t(10),z=function(e){var A,t=e.type,s=Object(n.useState)(""),c=Object(o.a)(s,2),i=c[0],a=c[1],l=Object(n.useState)(""),u=Object(o.a)(l,2),m=u[0],j=u[1],h=Object(n.useState)(""),f=Object(o.a)(h,2),b=f[0],p=f[1],F=Object(n.useState)(""),k=Object(o.a)(F,2),C=k[0],v=k[1],x=Object(n.useState)(""),I=Object(o.a)(x,2),B=I[0],S=I[1],Q=Object(n.useState)(""),U=Object(o.a)(Q,2),E=U[0],N=U[1],w=Object(G.g)(),T=X(),y=T.signup,D=T.login,V=T.resetPassword,P=Object(n.useState)(!1),_=Object(o.a)(P,2),M=_[0],W=_[1],L=Object(n.useState)(!1),K=Object(o.a)(L,2),R=K[0],J=K[1],H={firstName:function(e){v(e.target.value)},lastName:function(e){S(e.target.value)},email:function(e){a(e.target.value)},password:function(e){j(e.target.value)},passwordConfirm:function(e){p(e.target.value)}},z=function(e){N(e),setTimeout((function(){N("")}),2e3)},Z=function(){var e=Object(r.a)(g.a.mark((function e(A){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A.preventDefault(),!i||!m){e.next=19;break}return e.prev=2,z(""),e.next=6,D(i,m);case 6:w.push("/"),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(2),"auth/wrong-password"===e.t0.code&&(z("Wrong password"),J(!0),setTimeout((function(){J(!1)}),1500)),"auth/user-not-found"===e.t0.code&&(z("User not found"),W(!0),setTimeout((function(){W(!1)}),1500)),"auth/too-many-requests"===e.t0.code&&(z("Too many login attempts, try later again"),W(!0),J(!0),setTimeout((function(){W(!1),J(!1)}),1500),a(""),j("")),"auth/invalid-email"===e.t0.code&&(z("Invalid email, please enter a valid email"),W(!0),setTimeout((function(){W(!1)}),1500));case 15:return e.prev=15,e.finish(15);case 17:e.next=20;break;case 19:z("Fill all the fields in the form");case 20:case"end":return e.stop()}}),e,null,[[2,9,15,17]])})));return function(A){return e.apply(this,arguments)}}(),$=function(){var e=Object(r.a)(g.a.mark((function e(A){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A.preventDefault(),e.prev=1,e.next=4,V(i);case 4:N("Check your inbox for further instructions"),a(""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),N("Failed to reset password");case 11:setTimeout((function(){N("")}),2e3);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(A){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{id:"auth-component",children:[Object(d.jsx)(O,{}),"login"===t&&Object(d.jsx)(q,{start_name_title:"Sign In To Account",firstlast:!1,emailInput:!0,passwordInput:!0,email:i,emailAnimation:M,passwordAnimation:R,changeTargets:H,password:m,password_confirm:!1,end_name_btn:"Login",end_question:"sign-up",btn_click:Z,error_form:E}),"signup"===t&&Object(d.jsx)(q,{start_name_title:"Sign Up To Account",firstlast:!0,emailInput:!0,passwordInput:!0,password_confirm:!0,emailAnimation:M,passwordAnimation:R,end_name_btn:"Create Account",end_question:"sign-in",firstName:C,lastName:B,email:i,password:m,passwordConfirm:b,changeTargets:H,btn_click:function(e){e.preventDefault(),Y.fetchSignInMethodsForEmail(i).then((function(e){e.length?(A=!0,W(!0),setTimeout((function(){W(!1)}),1500),z("Email alredy exist")):A=!1})),setTimeout(Object(r.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(C.length>2&&B.length>2&&i.length>5)||A){e.next=21;break}if(m===b){e.next=7;break}z("The password confirmation does not match."),J(!0),setTimeout((function(){J(!1)}),1500),e.next=19;break;case 7:return e.prev=7,N(""),e.next=11,y(i,m,C,B);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),N(e.t0);case 16:return e.prev=16,w.push("/"),e.finish(16);case 19:e.next=21;break;case 21:case"end":return e.stop()}}),e,null,[[7,13,16,19]])}))),1e3)},error_form:E}),"forgot"===t&&Object(d.jsx)(q,{start_name_title:"Forgot Password",firstlast:!1,emailInput:!0,password:!1,email:i,changeTargets:H,btn_click:$,password_confirm:!1,end_name_btn:"Send Email",end_question:"sign-in",error_form:E})]})},Z=function(){return Object(d.jsx)("div",{id:"sign-up",children:Object(d.jsx)(z,{type:"signup"})})},$=(t(81),function(){return Object(d.jsx)("div",{id:"login",children:Object(d.jsx)(z,{type:"login"})})}),ee=(t(82),function(){return Object(d.jsx)("div",{id:"forgot-password",children:Object(d.jsx)(z,{type:"forgot"})})}),Ae=t(14),te=t(11),ne=["component"];function se(e){var A=e.component,t=Object(te.a)(e,ne),n=X().currentUser;return Object(d.jsx)(G.b,Object(Ae.a)(Object(Ae.a)({},t),{},{render:function(e){return n?Object(d.jsx)(A,Object(Ae.a)({},e)):Object(d.jsx)(G.a,{to:"/login"})}}))}t(83),t(84);var ce=t(114),ie=(t(85),function(e){return Object(d.jsxs)("div",{className:"find-input",children:[Object(d.jsx)(ce.a,{}),Object(d.jsx)("input",{type:"text",placeholder:"Search Friends",onChange:e.changeFindFriend,value:e.findFriend})]})}),ae=(t(86),t(87),function(e){var A=e.firstName,t=e.lastName,s=e.onlineUsers,c=e.id,i=e.activeFriend,a=e.message,g=e.fromName,r=e.fromId,l=e.saw,u=e.clickActiveFriend,m=Object(n.useState)(),j=Object(o.a)(m,2),h=j[0],f=j[1],b=X().currentUser;Object(n.useEffect)((function(){!0===s[c]?f(!0):f(!1)}),[s]);var O="",p="";a&&(O=a),g&&(p=g),g||(p=A+" "+t);var F=Object(n.useState)(),k=Object(o.a)(F,2),C=k[0],v=k[1];return Object(n.useEffect)((function(){_.collection("users").doc(c).get().then((function(e){e.data().profilePic&&v(e.data().profilePic)}))}),[]),Object(d.jsxs)("div",{className:i===c?"friend active-friend":"friend",onClick:function(){return u(c)},children:[Object(d.jsxs)("div",{className:"image-section",children:[Object(d.jsx)("img",{alt:"",src:C||K}),h&&Object(d.jsx)("div",{className:"online"})]}),Object(d.jsxs)("div",{className:"name-message",children:[Object(d.jsx)("div",{className:"name-friend",children:Object(d.jsx)("h3",{children:p.length>20?"".concat(p.substring(0,20)+"..."):p})}),Object(d.jsx)("p",{className:r===b.uid||l?"lastMessage":"bold-text lastMessage",children:r===b.uid?O.length>20?"You: "+O.substring(0,20)+"......":"You: "+O:O.length>20?O.substring(0,20)+"......":O})]}),!1===l&&Object(d.jsx)("div",{className:"new-message"})]})}),ge=function(e){var A=e.findFriend,t=e.onlineUsers,s=e.activeFriend,c=e.clickActiveFriend,i=e.friends,a=e.messagesDB,g=Object(n.useState)([]),r=Object(o.a)(g,2),l=r[0],u=r[1],m=X().currentUser;return Object(n.useEffect)((function(){for(var e in _.collection("users").onSnapshot((function(e){u(e.docs.map((function(e){return{id:e.id,firstName:e.data().firstName,lastName:e.data().lastName,email:e.data().email}})))})),console.log(l.length),i)console.log(i[e].id),_.collection("users").doc(m.uid).collection("messages").doc(i[e].id).update({profile:"blublublu"})}),[]),Object(n.useEffect)((function(){s&&i.filter((function(e){return e.id===s})).map((function(e){e.saw||_.collection("users").doc(m.uid).collection("messages").doc(s).update({saw:!0})})),_.collection("users").doc(m.uid).collection("messages").doc(s).get().then((function(e){e.exists&&e.data().call}))}),[c]),Object(d.jsxs)("div",{className:"friends",children:[!s&&A.length<2&&0===i.length&&Object(d.jsx)("p",{className:"no-friends",children:"You have no friends list here Search for someone to start a conversation"}),A.length>1&&l.filter((function(e){return e.id!==m.uid})).filter((function(e){return(e.firstName+" "+e.lastName).toLowerCase().includes(A.toLowerCase())})).map((function(e){return Object(n.createElement)(ae,Object(Ae.a)(Object(Ae.a)({},e),{},{onlineUsers:t,key:e.id,clickActiveFriend:c,activeFriend:s}))})),A.length<2&&i.slice(0).reverse().map((function(e){return Object(n.createElement)(ae,Object(Ae.a)(Object(Ae.a)({},e),{},{key:e.id,onlineUsers:t,clickActiveFriend:c,activeFriend:s}))})),s&&l.filter((function(e){return e.id!==m.uid&&e.id===s&&0===i.filter((function(A){return A.id===e.id})).map((function(e){return e.id})).length})).map((function(e){return Object(n.createElement)(ae,Object(Ae.a)(Object(Ae.a)({},e),{},{key:e.id,onlineUsers:t,clickActiveFriend:c,activeFriend:s}))})),a.map((function(e){console.log(e)}))]})},re=function(e){var A=Object(n.useState)([]),t=Object(o.a)(A,2),s=t[0],c=t[1];X().currentUser;return Object(n.useEffect)((function(){e.getFriends()}),[]),Object(n.useEffect)((function(){var A=[];for(var t in e.alMes)A.push(e.alMes[t]),c(A);0===A.length&&c(A)}),[e.alMes]),Object(d.jsxs)("div",{id:"left-bar-main",children:[Object(d.jsx)("div",{className:"top-left-search",children:Object(d.jsx)(ie,{changeFindFriend:e.changeFindFriend,findFriend:e.findFriend})}),Object(d.jsx)(ge,{friends:e.friends,messagesDB:s,findFriend:e.findFriend,onlineUsers:e.onlineUsers,activeFriend:e.activeFriend,clickActiveFriend:e.clickActiveFriend,changeFindFriend:e.changeFindFriend,newFriendLoading:e.newFriendLoading}),console.log(typeof e.alMes)]})},oe=(t(88),s.a.createContext());function le(){return Object(n.useContext)(oe)}function de(e){var A=e.children,t=X().currentUser,s=Object(n.useState)(),c=Object(o.a)(s,2),i=c[0],a=c[1],g=Object(n.useState)(!0),r=Object(o.a)(g,2),l=r[0],u=r[1];Object(n.useEffect)((function(){_.collection("users").onSnapshot((function(e){a(e.docs.map((function(e){return{id:e.id,firstName:e.data().firstName,lastName:e.data().lastName,email:e.data().email,profilePic:e.data().profilePic}})).filter((function(e){return e.id===t.uid})))})),setTimeout((function(){u(!1)}),2e3)}),[]);var m={currentUserInfo:i};return Object(d.jsxs)(oe.Provider,{value:m,children:[!l&&A,l&&Object(d.jsx)(R,{})]})}var ue=t(115),me=t(116),je=function(e){var A=le().currentUserInfo,t=X(),s=t.logout,c=t.currentUser,i=Object(n.useState)(!1),a=Object(o.a)(i,2),l=a[0],u=a[1],m=Object(G.g)(),j=Object(n.useState)([]),h=Object(o.a)(j,2),f=h[0],b=h[1];Object(n.useEffect)((function(){M.ref("online/").on("value",(function(e){e.exists()?b(e.val()):b("")}))}),[]);var O=function(){var e=Object(r.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{M.ref("/online/".concat(c.uid)).remove().then((function(){s(),m.push("/login")}))}catch(A){console.log(A)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){"main-dashboard"===e.active&&m.push("/settings"),"profile-settings"===e.active&&m.push("/")};return Object(d.jsxs)("div",{id:"profile",children:[Object(d.jsxs)("div",{className:"profile",onClick:function(){u(!l)},children:[Object(d.jsx)(ue.a,{className:l?"rotate-animation":""}),Object(d.jsx)("img",{alt:"",src:A[0].profilePic||K})]}),l&&Object(d.jsxs)("div",{className:"click-profile",children:[Object(d.jsxs)("div",{className:"my-profile",children:[Object(d.jsx)("img",{alt:"",src:A[0].profilePic||K}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h3",{children:[A[0].firstName," ",A[0].lastName]}),Object(d.jsx)("p",{children:!0===f[c.uid]?"Online":"Offline"})]})]}),Object(d.jsxs)("div",{className:"my-settings profile-options",children:["main-dashboard"===e.active&&Object(d.jsxs)("div",{className:"change-link",onClick:p,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"material-icons",children:"settings"}),Object(d.jsx)("h4",{children:"Settings"})]}),Object(d.jsx)(me.a,{})]}),"profile-settings"===e.active&&Object(d.jsxs)("div",{className:"change-link",onClick:p,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"material-icons",children:"home"}),Object(d.jsx)("h4",{children:"Home"})]}),Object(d.jsx)(me.a,{})]})]}),Object(d.jsxs)("div",{className:"my-logout profile-options",onClick:O,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("span",{className:"material-icons",children:"logout"}),Object(d.jsx)("h4",{children:"Logout"})]}),Object(d.jsx)(me.a,{})]}),Object(d.jsx)("p",{className:"profile-reserved",children:"Master Chat @ 2021"})]})]})},he=(t(89),function(e){return Object(d.jsx)("div",{id:"top-bar",children:Object(d.jsxs)("div",{className:"top-bar-container",children:[Object(d.jsx)(j,{}),Object(d.jsx)(je,{active:e.active})]})})}),fe=(t(90),t(91),function(e){return Object(d.jsx)("div",{id:"start-chat",children:Object(d.jsxs)("div",{className:"start-chat-container",children:[Object(d.jsx)("h2",{children:e.currentUserInfo[0].firstName+" "+e.currentUserInfo[0].lastName}),Object(d.jsx)("img",{alt:"",src:e.currentUserInfo[0].profilePic||K}),Object(d.jsxs)("p",{children:["Search for someone to start a conversation. ",Object(d.jsx)("br",{})," Click , write, send messages and make new friends"]})]})})}),be=(t(92),t(117)),Oe=t(118),pe=t(119),Fe=t(120),ke=t(121),Ce=(t(93),function(e){var A=e.chatOptions,t=e.infoColor,n=e.info,s=e.id,c=e.fromId,i=e.message,a=(e.timestamp,e.file),g=e.activeFriend,r=e.img,o=(e.messages,e.fileImg,e.allMessages,e.imgUrl),l=X().currentUser;return Object(d.jsxs)(d.Fragment,{children:[!1===r&&!n&&Object(d.jsx)("div",{id:"message",className:c===l.uid?"my-message":"other-message",children:Object(d.jsx)("div",{onClick:function(){a&&c===l.uid?(W.ref("message-files").child(l.uid+"/"+g+"/files/"+s+"/"+i).getDownloadURL().then((function(e){var A=document.createElement("a");A.setAttribute("href",e),A.setAttribute("download",i),A.setAttribute("target","_blank"),A.click(),console.log(e)})).catch((function(e){console.log(e.code)})),console.log(s)):a&&c===g&&(W.ref("message-files").child(g+"/"+l.uid+"/files/"+s+"/"+i).getDownloadURL().then((function(e){var A=document.createElement("a");A.setAttribute("href",e),A.setAttribute("download",i),A.setAttribute("target","_blank"),A.click(),console.log(e)})).catch((function(e){console.log(e.code)})),console.log(s))},style:{background:c===l.uid?A.chatTheme:"#F2F2F2"},children:Object(d.jsx)("p",{className:a?"line":"",children:i})})}),r&&Object(d.jsx)("div",{id:"message-img",className:c===l.uid?"my-message":"other-message",children:Object(d.jsx)("img",{alt:"",src:o,className:"me-img"})}),n&&Object(d.jsx)("div",{id:"message-info",className:c===l.uid?"my-message info":"other-message info",children:Object(d.jsxs)("div",{className:"message-info-content",children:[Object(d.jsx)("p",{children:i}),t?Object(d.jsx)("div",{className:"color-showness",style:{background:t}}):null]})})]})}),ve=t(50),xe=t.n(ve),Ie=(t(94),function(e){var A=Object(n.useState)(!1),t=Object(o.a)(A,2),s=t[0],c=t[1],i=Object(n.useState)(!1),a=Object(o.a)(i,2),g=a[0],r=a[1],l=Object(n.useState)(!1),u=Object(o.a)(l,2),m=u[0],j=u[1];return Object(d.jsxs)(d.Fragment,{children:[!s&&!g&&!m&&Object(d.jsx)("div",{id:"settings-chat",children:Object(d.jsxs)("div",{className:"settings-chat-container",children:[Object(d.jsxs)("div",{className:"chat-name-s",onClick:function(){return r(!0)},children:[Object(d.jsx)("span",{class:"material-icons",children:"create"}),Object(d.jsx)("h4",{children:"Nick Name"})]}),Object(d.jsxs)("div",{className:"chat-theme-s",onClick:function(){return c(!0)},children:[Object(d.jsx)("span",{className:"theme-color",style:{background:e.chatOptions.chatTheme||"#625AC0"}}),Object(d.jsx)("h4",{children:"Chat Theme"})]}),Object(d.jsxs)("div",{className:"delete-s",onClick:function(){j(!0)},children:[Object(d.jsx)("span",{class:"material-icons",children:"delete"}),Object(d.jsx)("h4",{children:"Delete Chat"})]})]})}),s&&Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"change-theme changing",children:[Object(d.jsxs)("div",{className:"change-theme-intro changing-intro",children:[Object(d.jsx)("h4",{children:"Change Theme"}),Object(d.jsx)("div",{onClick:function(){return c(!1)},children:Object(d.jsx)("span",{class:"material-icons",children:"close"})})]}),Object(d.jsx)("div",{className:"color-theme chat-content-change",children:Object(d.jsx)("div",{className:"color-theme-box",children:[{id:1,c:"#625AC0"},{id:2,c:"#817AD4"},{id:3,c:"#A29CEA"},{id:4,c:"#C3C0ED"},{id:5,c:"#277ECF"},{id:6,c:"#2390F5"},{id:7,c:"#62AEF4"},{id:8,c:"#96CCFE"},{id:9,c:"#28ACB5"},{id:10,c:"#67BEC3"},{id:11,c:"#78CFD4"},{id:12,c:"#AEE0E3"},{id:13,c:"#13BC7F"},{id:14,c:"#3BC895"},{id:15,c:"#60DCAF"},{id:16,c:"#89EEC9"},{id:17,c:"#B53A6D"},{id:18,c:"#D13174"},{id:19,c:"#D86595"},{id:20,c:"#E490B3"},{id:21,c:"#D03030"},{id:22,c:"#E84F4F"},{id:23,c:"#DD6F6F"},{id:24,c:"#EE9E9E"}].map((function(A){return Object(d.jsx)("div",{onClick:function(){return e.handleClickChangeTheme(A.c)},className:A.c===e.chatOptions.chatTheme?"active col-theme":"col-theme",children:Object(d.jsx)("div",{style:{background:A.c}})},A.id)}))})})]})}),g&&Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"change-name changing",children:[Object(d.jsxs)("div",{className:"change-name-intro changing-intro",children:[Object(d.jsx)("h4",{children:"Change Name"}),Object(d.jsx)("div",{onClick:function(){return r(!1)},children:Object(d.jsx)("span",{class:"material-icons",children:"close"})})]}),Object(d.jsx)("div",{className:"chat-name chat-content-change",children:Object(d.jsxs)("div",{className:"chat-name-box",children:[Object(d.jsx)("input",{onChange:function(A){return e.handleChangeInputNewName(A)},value:e.newName}),Object(d.jsx)("button",{style:{background:e.chatOptions.chatTheme},onClick:function(){return e.handleClickChatName(e.newName)},children:"Save"})]})})]})}),m&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"delete-opacity-all chat-content-change",children:Object(d.jsxs)("div",{className:"delete-box",children:[Object(d.jsx)("h4",{children:"Are you sure you want to delete the chat"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"delete-btn btn",onClick:e.handleClickDeleteChat,children:"Delete"}),Object(d.jsx)("button",{className:"close-btn btn",onClick:function(){j(!1)},children:"Close"})]})]})})})]})}),Be=t(51),Se=t.n(Be),Qe=function(e){var A=Object(n.useState)(!1),t=Object(o.a)(A,2),s=t[0],c=t[1],i=Object(n.useState)(!1),a=Object(o.a)(i,2),g=a[0],r=a[1],l=Object(n.useState)(!1),u=Object(o.a)(l,2),m=u[0],j=u[1],h=Object(n.useState)(),f=Object(o.a)(h,2),b=f[0],O=f[1],p=X().currentUser;Object(n.useEffect)((function(){g&&(e.chatOptions.chatName?O(e.chatOptions.chatName):O(e.user.firstName+" "+e.user.lastName))}),[g]);var F=function(e){"toggle"===e&&c(!s),"shutdown"===e&&c(!1)};Object(n.useEffect)((function(){F("shutdown"),r(!1)}),[e.clickActiveFriend]);var k=Object(n.useState)(),C=Object(o.a)(k,2),v=C[0],x=C[1];Object(n.useEffect)((function(){e.activeFriend&&_.collection("users").doc(e.activeFriend).get().then((function(e){e.data().profilePic?x(e.data().profilePic):x(null)}))}),[e.clickActiveFriend]);return Object(d.jsxs)("div",{id:"chat",children:[s&&Object(d.jsxs)("div",{className:"more-chat",children:[Object(d.jsxs)("div",{onClick:function(){r(!0),F("shutdown")},className:"content-more-chat",children:[Object(d.jsx)("span",{className:"material-icons",children:"settings"}),Object(d.jsx)("h4",{children:"Settings"})]}),Object(d.jsxs)("div",{onClick:function(){j(!0),F("shutdown")},className:"content-more-chat",children:[Object(d.jsx)("span",{className:"material-icons",children:"info"}),Object(d.jsx)("h4",{children:"Information"})]})]}),Object(d.jsxs)("div",{className:"top-chat-content",children:[!g&&!m&&Object(d.jsxs)(d.Fragment,{children:[e.activeFriend&&Object(d.jsxs)("div",{className:"left-top-chat-content",children:[Object(d.jsx)("div",{className:"back-to-friend",onClick:function(){return e.setActiveFriend(),void(document.getElementById("center-bar").style.display="none")},children:Object(d.jsx)("span",{class:"material-icons",children:"arrow_back"})}),Object(d.jsxs)("div",{className:"profile-chat",children:[Object(d.jsx)("img",{alt:"",src:v||K}),Object(d.jsx)("h3",{children:e.chatOptions.chatName||"".concat(e.user.firstName," ").concat(e.user.lastName)})]})]}),e.allMessages.length>0&&Object(d.jsx)(be.a,{onClick:function(){F("toggle")}})]}),g&&Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"back-from-settings",onClick:function(){r(!1)},children:[Object(d.jsx)("span",{class:"material-icons",children:"arrow_back"}),Object(d.jsx)("h4",{children:"Settings"})]})}),m&&Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"back-from-settings",onClick:function(){j(!1)},children:[Object(d.jsx)("span",{class:"material-icons",children:"arrow_back"}),Object(d.jsx)("h4",{children:"Information"})]})})]}),e.allMessages.length>0&&!g&&!m&&Object(d.jsxs)("div",{onClick:function(){F("shutdown")},className:"center-chat-content",children:[Object(d.jsx)("div",{className:"chat-messages-container",children:e.allMessages.map((function(A){return Object(d.jsx)(Ce,Object(Ae.a)(Object(Ae.a)({chatOptions:e.chatOptions},A),{},{activeFriend:e.activeFriend,allMessages:e.allMessages}),A.id)}))}),e.openEmojis&&Object(d.jsx)("div",{className:"emoji-x",children:Object(d.jsx)(xe.a,{onEmojiClick:e.onEmojiClick,disableSkinTonePicker:!0})})]}),0===e.allMessages.length&&!m&&e.activeFriend&&Object(d.jsx)("div",{className:"center-chat-content-no-messages",children:Object(d.jsxs)("div",{className:"chat-messages-container",children:[Object(d.jsx)("img",{alt:"",src:v||K}),Object(d.jsxs)("h3",{children:[e.user.firstName," ",e.user.lastName]})]})}),!g&&!m&&Object(d.jsxs)("div",{className:"bottom-chat-content",children:[Object(d.jsx)("input",{type:"file",className:"file_input",onChange:e.handlerChangeInput}),Object(d.jsx)("input",{type:"file",className:"file_input_img",accept:"image/png, image/gif, image/jpeg",onChange:e.handlerChangeInputImg}),Object(d.jsxs)("div",{onClick:function(){F("shutdown")},id:"bottom-bar-chat",children:[Object(d.jsxs)("div",{className:"chat-input",children:[Object(d.jsx)("input",{type:"text",placeholder:"Write a message...",value:e.messageInput,onChange:e.changeMessageInput,onKeyUp:function(A){13===A.keyCode&&e.onSend()}}),e.allMessages.length>0&&Object(d.jsxs)("div",{className:"input-interactive",children:[Object(d.jsx)(Oe.a,{onClick:function(){var e=document.querySelector(".file_input"),A=new MouseEvent("click",{bubbles:!0});e.dispatchEvent(A)},style:{fill:e.chatUserOptions.chatTheme||"#625AC0"}}),Object(d.jsx)(pe.a,{onClick:function(){var e=document.querySelector(".file_input_img"),A=new MouseEvent("click",{bubbles:!0});e.dispatchEvent(A)},style:{fill:e.chatUserOptions.chatTheme||"#625AC0"}}),Object(d.jsx)(Fe.a,{onClick:e.handleOpenEmojis,style:{fill:e.chatUserOptions.chatTheme||"#625AC0"}})]})]}),Object(d.jsx)("div",{className:"send",children:Object(d.jsx)(ke.a,{onClick:e.onSend,style:{fill:e.chatUserOptions.chatTheme||"#625AC0"}})})]})]}),g&&Object(d.jsx)(Ie,{handleClickDeleteChat:function(){M.ref("messages/"+p.uid+e.activeFriend).remove(),_.collection("users").doc(p.uid).collection("messages").doc(e.activeFriend).delete(),e.setActiveFriend(),F("shutdown"),r(!1),e.setOpenChat(!1)},handleClickChatName:function(A){if(e.chatOptions.chatName!==A&&A.length<=30){M.ref("messages/"+p.uid+e.activeFriend).child("options").update({chatName:A}),_.collection("users").doc(p.uid).collection("messages").doc(e.activeFriend).update({fromName:{0:A}});var t=M.ref("messages/"+p.uid+e.activeFriend).push().key;M.ref("messages/"+e.activeFriend+p.uid).child(t).set({message:e.chatUserOptions.chatName+" changed your nick name to "+A,timestamp:(new Date).valueOf(),fromId:p.uid,toId:e.activeFriend,id:t,file:!1,img:!1,info:!0,infoColor:!1}),M.ref("messages/"+p.uid+e.activeFriend).child(t).set({message:"You changed "+e.user.firstName+"'s nick name to "+A,timestamp:(new Date).valueOf(),fromId:p.uid,toId:e.activeFriend,id:t,file:!1,img:!1,info:!0,infoColor:!1}),F("shutdown"),r(!1)}A.length>30&&alert("Name too large. (Only 30 letters).You have "+A.length+" letters")},newName:b,handleChangeInputNewName:function(e){O(e.target.value)},handleClickChangeTheme:function(A){if(e.chatOptions.chatTheme!==A){M.ref("messages/"+p.uid+e.activeFriend).child("options").update({chatTheme:A}),M.ref("messages/"+e.activeFriend+p.uid).child("options").update({chatTheme:A});var t=M.ref("messages/"+p.uid+e.activeFriend).push().key;M.ref("messages/"+e.activeFriend+p.uid).child(t).set({message:e.chatUserOptions.chatName+" changed chat theme to",timestamp:(new Date).valueOf(),fromId:p.uid,toId:e.activeFriend,id:t,file:!1,img:!1,info:!0,infoColor:A}),M.ref("messages/"+p.uid+e.activeFriend).child(t).set({message:"You changed chat theme to",timestamp:(new Date).valueOf(),fromId:p.uid,toId:e.activeFriend,id:t,file:!1,img:!1,info:!0,infoColor:A}),F("shutdown"),r(!1)}else alert("It is the same theme, choose another or no one")},chatOptions:e.chatOptions}),m&&Object(d.jsxs)("div",{className:"info-chat",children:[Object(d.jsx)("h4",{children:e.chatOptions.chatName}),Object(d.jsxs)("p",{children:["Status: ",Object(d.jsx)("em",{children:!0===e.onlineUsers[e.activeFriend]?"online":"offline"})]}),Object(d.jsxs)("p",{children:["Created: ",Object(d.jsx)("em",{children:Se()(e.chatUserOptions.createdTime).format("L")})]}),Object(d.jsxs)("div",{className:"info-theme",children:[Object(d.jsx)("p",{children:"Chat Theme "}),Object(d.jsx)("div",{style:{background:e.chatUserOptions.chatTheme}})]})]})]})},Ue=function(e){var A=Object(n.useState)([]),t=Object(o.a)(A,2),s=t[0],c=t[1],i=Object(n.useState)([]),a=Object(o.a)(i,2),g=a[0],r=a[1];return Object(n.useEffect)((function(){_.collection("users").onSnapshot((function(A){c(A.docs.map((function(e){return{id:e.id,firstName:e.data().firstName,lastName:e.data().lastName,email:e.data().email}})).filter((function(A){return A.id===e.activeFriend})))}))}),[e.activeFriend]),Object(n.useEffect)((function(){var A=[];for(var t in e.messages)A.push(e.messages[t]),r(A);0===A.length&&r(A)}),[e.messages]),Object(d.jsxs)("div",{id:"center-bar",children:[!e.openChat&&Object(d.jsx)(fe,{currentUserInfo:e.currentUserInfo}),e.openChat&&e.activeFriend&&s.map((function(A){var t;return Object(d.jsx)(Qe,(t={onSend:e.onSend,user:A,allMessages:g,messageInput:e.messageInput,changeMessageInput:e.changeMessageInput,handlerChangeInputImg:e.handlerChangeInputImg,handlerChangeInput:e.handlerChangeInput,activeFriend:e.activeFriend,activeGroup:e.activeGroup,onEmojiClick:e.onEmojiClick,openEmojis:e.openEmojis,handleOpenEmojis:e.handleOpenEmojis},Object(D.a)(t,"openEmojis",e.openEmojis),Object(D.a)(t,"clickActiveFriend",e.clickActiveFriend),Object(D.a)(t,"chatOptions",e.chatOptions),Object(D.a)(t,"chatUserOptions",e.chatUserOptions),Object(D.a)(t,"setOpenChat",e.setOpenChat),Object(D.a)(t,"setActiveFriend",e.setActiveFriend),Object(D.a)(t,"onlineUsers",e.onlineUsers),t))}))]})},Ee=function(){var e=Object(n.useState)(),A=Object(o.a)(e,2),t=A[0],s=A[1],c=Object(n.useState)(!1),i=Object(o.a)(c,2),a=i[0],g=i[1],r=Object(n.useState)([]),l=Object(o.a)(r,2),u=l[0],m=l[1],j=Object(n.useState)(""),h=Object(o.a)(j,2),f=h[0],b=h[1],O=Object(n.useState)([]),p=Object(o.a)(O,2),F=p[0],k=p[1],C=Object(n.useState)(!1),v=Object(o.a)(C,2),x=v[0],I=(v[1],Object(n.useState)([])),B=Object(o.a)(I,2),S=B[0],Q=B[1],U=Object(n.useState)(""),E=Object(o.a)(U,2),N=E[0],w=E[1],T=Object(n.useState)(null),y=Object(o.a)(T,2),q=y[0],D=y[1],V=Object(n.useState)(null),P=Object(o.a)(V,2),Y=P[0],L=P[1],K=Object(n.useState)(null),R=Object(o.a)(K,2),J=R[0],H=R[1],G=Object(n.useState)(null),z=Object(o.a)(G,2),Z=z[0],$=z[1],ee=Object(n.useState)(!1),Ae=Object(o.a)(ee,2),te=Ae[0],ne=Ae[1],se=Object(n.useState)([]),ce=Object(o.a)(se,2),ie=ce[0],ae=ce[1],ge=Object(n.useState)([]),oe=Object(o.a)(ge,2),de=oe[0],ue=oe[1],me=Object(n.useState)([]),je=Object(o.a)(me,2),fe=je[0],be=je[1],Oe=Object(n.useState)([]),pe=Object(o.a)(Oe,2),Fe=pe[0],ke=pe[1],Ce=X().currentUser,ve=le().currentUserInfo,xe=Object(n.useCallback)((function(e){g(!1),setTimeout((function(){s(e)}),50),w(""),e?(document.getElementById("center-bar").style.display="block",g(!0),ne(!1),b("")):g(!1)}),[t]),Ie=function(){try{if(f.length>0){!function(e,A,n,s,c){var i=M.ref("messages/"+Ce.uid+t).push().key;q?M.ref("messages/"+t+Ce.uid).child(i).set({message:n,timestamp:s,fromId:e,toId:A,id:i,file:!0,img:!1}):M.ref("messages/"+t+Ce.uid).child(i).set({message:n,timestamp:s,fromId:e,toId:A,id:i,file:!1,img:!1}),q?M.ref("messages/"+Ce.uid+t).child(i).set({message:n,timestamp:s,fromId:e,toId:A,id:i,file:!0,img:!1}):M.ref("messages/"+Ce.uid+t).child(i).set({message:n,timestamp:s,fromId:e,toId:A,id:i,file:!1,img:!1}),_.collection("users").doc(Ce.uid).collection("messages").doc(t).set({message:n,timestamp:s,fromId:e,toId:A,id:i,fromName:F.filter((function(e){return e.id===t})).map((function(e){return e.firstName+" "+e.lastName})),call:null}),_.collection("users").doc(t).collection("messages").doc(Ce.uid).set({message:n,timestamp:s,fromId:e,toId:A,id:i,fromName:F.filter((function(e){return e.id===Ce.uid})).map((function(e){return e.firstName+" "+e.lastName})),saw:c,call:null}),q&&W.ref("message-files").child(Ce.uid+"/"+t+"/files/"+i+"/"+f).put(Y),J&&W.ref("message-files").child(Ce.uid+"/"+t+"/images/"+i+"/"+f).put(Z).then((function(){W.ref("message-files").child(Ce.uid+"/"+t+"/images/"+i+"/"+f).getDownloadURL().then((function(c){M.ref("messages/"+Ce.uid+t).child(i).set({message:n,timestamp:s,fromId:e,toId:A,id:i,file:!1,img:!0,imgUrl:c}),M.ref("messages/"+t+Ce.uid).child(i).set({message:n,timestamp:s,fromId:e,toId:A,id:i,file:!1,img:!0,imgUrl:c})}))})),"no"===de?(_.collection("users").doc(Ce.uid).collection("messages").doc(t).set({message:n,timestamp:s,fromId:e,toId:A,id:i,fromName:F.filter((function(e){return e.id===t})).map((function(e){return e.firstName+" "+e.lastName})),call:null}),_.collection("users").doc(t).collection("messages").doc(Ce.uid).set({message:n,timestamp:s,fromId:e,toId:A,id:i,fromName:F.filter((function(e){return e.id===Ce.uid})).map((function(e){return e.firstName+" "+e.lastName})),saw:c,call:null})):(_.collection("users").doc(Ce.uid).collection("messages").doc(t).set({message:n,timestamp:s,fromId:e,toId:A,id:i,fromName:{0:de.chatName},call:null}),_.collection("users").doc(t).collection("messages").doc(Ce.uid).set({message:n,timestamp:s,fromId:e,toId:A,id:i,fromName:{0:fe.chatName},saw:c,call:null})),D(null),L(null),H(null),$(null),"no"===de&&"no"===fe?(M.ref("messages/"+Ce.uid+t).child("options").set({chatName:ie[0].firstName+" "+ie[0].lastName,chatTheme:"#625AC0",createdTime:(new Date).valueOf()}),M.ref("messages/"+t+Ce.uid).child("options").set({chatName:ve[0].firstName+" "+ve[0].lastName,chatTheme:"#625AC0",createdTime:(new Date).valueOf()})):"no"!==de?(M.ref("messages/"+Ce.uid+t).child("options").update({chatName:de.chatName,chatTheme:de.chatTheme}),M.ref("messages/"+t+Ce.uid).child("options").update({chatTheme:de.chatTheme,chatName:fe.chatName})):"no"===de&&"no"!==fe&&(M.ref("messages/"+Ce.uid+t).child("options").set({chatName:ie[0].firstName+" "+ie[0].lastName,chatTheme:fe.chatTheme,createdTime:fe.createdTime}),M.ref("messages/"+t+Ce.uid).child("options").update({chatTheme:fe.chatTheme,chatName:fe.chatName}))}(Ce.uid,t,f,(new Date).valueOf(),!1),b(""),ne(!1);var e=document.querySelector("#message:nth-last-child(1)"),A=document.querySelector("#message-img:nth-last-child(1)");e&&setTimeout((function(){e.scrollIntoView()}),10),A&&setTimeout((function(){A.scrollIntoView()}),10)}}catch(n){}};Object(n.useEffect)((function(){_.collection("users").onSnapshot((function(e){ae(e.docs.map((function(e){return{id:e.id,firstName:e.data().firstName,lastName:e.data().lastName,email:e.data().email}})).filter((function(e){return e.id===t})))}))}),[t]),Object(n.useEffect)((function(){_.collection("users").onSnapshot((function(e){k(e.docs.map((function(e){return{id:e.id,firstName:e.data().firstName,lastName:e.data().lastName,email:e.data().email}})))}))}),[]),Object(n.useEffect)((function(){M.ref("call/"+Ce.uid).remove();var e=M.ref("/online/".concat(Ce.uid));e.set(!0).then((function(){return console.log("Online presence set")})),e.onDisconnect().remove().then((function(){return console.log("On disconnect function configured.")}))}),[]),Object(n.useEffect)((function(){M.ref("online/").on("value",(function(e){e.exists()?ke(e.val()):ke("")}))}),[t]),Object(n.useEffect)((function(){M.ref("messages/"+Ce.uid+t+"/options").on("value",(function(e){e.exists()?ue(e.val()):ue("no")}))}),[xe]),Object(n.useEffect)((function(){M.ref("messages/"+t+Ce.uid+"/options").on("value",(function(e){e.exists()?be(e.val()):be("no")}))}),[xe]),Object(n.useEffect)((function(){M.ref("messages/"+Ce.uid+t).on("value",(function(e){e.exists()?m(e.val()):m("")}))}),[t]),Object(n.useEffect)((function(){S.filter((function(e){return e.id===t})).map((function(e){e.saw||_.collection("users").doc(Ce.uid).collection("messages").doc(t).update({saw:!0})}))}),[Ie]);var Be=Object(n.useState)([]),Se=Object(o.a)(Be,2),Qe=Se[0],Ee=Se[1];return Object(n.useEffect)((function(){M.ref("messages/").on("value",(function(e){e.exists()?Ee(e.val()):Ee("no")}))}),[]),Object(d.jsxs)("div",{className:"dashboard-component",children:[Object(d.jsx)(he,{active:"main-dashboard"}),Object(d.jsx)("div",{className:"dashboard-component-container",children:Object(d.jsxs)("div",{className:"dashboard-component-wrapper",children:[Object(d.jsx)(re,{findFriend:N,friends:S,onlineUsers:Fe,getFriends:function(){_.collection("users").doc(Ce.uid).collection("messages").orderBy("timestamp").onSnapshot((function(e){Q(e.docs.map((function(e){return{id:e.id,fromId:e.data().fromId,toId:e.data().toId,message:e.data().message,timestamp:e.data().timestamp,fromName:e.data().fromName[0],saw:e.data().saw,mId:e.data().id}})))}))},users:F,activeFriend:t,clickActiveFriend:xe,newFriendLoading:x,changeFindFriend:function(e){w(e.target.value)},alMes:Qe}),Object(d.jsx)(Ue,{onSend:Ie,onlineUsers:Fe,messages:u,currentUserInfo:ve,openChat:a,activeFriend:t,messageInput:f,changeMessageInput:function(e){b(e.target.value)},handlerChangeInputImg:function(e){var A=e.target.files[0];if(A){var t=new FileReader;t.onload=function(){var e=t.result;H(e)},t.readAsDataURL(A)}$(A),A&&A.size>1e7?(alert("Too big image !"),b()):A&&A.size<1e7&&b(A.name)},handlerChangeInput:function(e){var A=e.target.files[0];if(A){var t=new FileReader;t.onload=function(){var e=t.result;D(e)},t.readAsDataURL(A)}A&&A.size>25e6?(alert("Too big file !"),b()):A&&A.size<25e6&&b(A.name),L(A)},onEmojiClick:function(e,A){b(f+A.emoji)},handleOpenEmojis:function(){ne(!te)},openEmojis:te,clickActiveFriend:xe,chatOptions:de,chatUserOptions:fe,setOpenChat:g,setActiveFriend:s})]})})]})},Ne=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(de,{children:Object(d.jsx)(Ee,{})})})},we=(t(96),t(97),t(98),function(){var e=Object(n.useState)(""),A=Object(o.a)(e,2),t=A[0],s=A[1],c=le().currentUserInfo,i=X(),a=i.currentUser,g=i.updateEmail,r=i.updatePassword,l=Object(n.useState)(c[0].firstName),u=Object(o.a)(l,2),m=u[0],j=u[1],h=Object(n.useState)(c[0].lastName),f=Object(o.a)(h,2),b=f[0],O=f[1],p=Object(n.useState)(),F=Object(o.a)(p,2),k=F[0],C=F[1],v=Object(n.useState)(),x=Object(o.a)(v,2),I=x[0],B=x[1],S=Object(n.useState)(c[0].email),Q=Object(o.a)(S,2),E=Q[0],N=Q[1],w=Object(n.useState)(),T=Object(o.a)(w,2),y=T[0],q=T[1],D=Object(n.useState)(),V=Object(o.a)(D,2),P=V[0],M=V[1],Y=(Object(G.g)(),Object(n.useState)(!1)),L=Object(o.a)(Y,2),R=L[0],J=L[1],H=Object(n.useState)(!1),z=Object(o.a)(H,2),Z=z[0],$=z[1],ee=Object(n.useState)("password"),Ae=Object(o.a)(ee,2),te=Ae[0],ne=Ae[1],se=Object(n.useState)("password"),ce=Object(o.a)(se,2),ie=ce[0],ae=ce[1],ge="Profile Settings";"f_n"===t?ge="Display Name":"em"===t?ge="Email":"ps"===t?ge="Password":"pr"===t&&(ge="Profile Picture");return Object(d.jsxs)("div",{id:"center-bar",children:[Object(d.jsx)("input",{type:"file",className:"file_input_img",accept:"image/png, image/gif, image/jpeg",onChange:function(e){var A=e.target.files[0];if(A){var t=new FileReader;t.onload=function(){var e=t.result;C(e)},t.readAsDataURL(A)}B(A)}}),Object(d.jsxs)("div",{className:"wrapper-center-bar",children:[Object(d.jsxs)("div",{className:"wrp-title",children:[""!==t&&Object(d.jsx)("span",{class:"material-icons",onClick:function(){return s("")},children:"arrow_back"}),Object(d.jsx)("h2",{className:"setting-title",children:ge})]}),""===t&&Object(d.jsxs)("div",{className:"choose-set",children:[Object(d.jsx)("div",{className:"box-set",onClick:function(){return s("pr")},children:Object(d.jsx)("div",{children:Object(d.jsx)("h4",{children:"Profile Picture"})})}),Object(d.jsx)("div",{className:"box-set",onClick:function(){return s("f_n")},children:Object(d.jsx)("div",{children:Object(d.jsx)("h4",{children:"Display Name"})})}),Object(d.jsx)("div",{className:"box-set",onClick:function(){return s("em")},children:Object(d.jsx)("div",{children:Object(d.jsx)("h4",{children:"Email "})})}),Object(d.jsx)("div",{className:"box-set",onClick:function(){return s("ps")},children:Object(d.jsx)("div",{children:Object(d.jsx)("h4",{children:"Password "})})})]}),"f_n"===t&&Object(d.jsxs)("div",{className:"full-name center-setting",children:[Object(d.jsxs)("div",{className:"flex-inputs-set",children:[Object(d.jsx)(U,{input_name:"First Name",input_type:"text",input_icon:"person",input_value:m,changeTarget:function(e){return j(e.target.value)}}),Object(d.jsx)(U,{input_name:"Last Name",input_type:"text",input_icon:"person",input_value:b,changeTarget:function(e){return O(e.target.value)}})]}),Object(d.jsx)("button",{onClick:function(){_.collection("users").doc(a.uid).update({firstName:m,lastName:b}),s("")},className:"btn-change",children:"Change Full Name"})]}),"em"===t&&Object(d.jsxs)("div",{className:"email center-setting",children:[Object(d.jsx)("div",{className:"flex-inputs-set",children:Object(d.jsx)(U,{input_name:"Email",input_type:"text",input_icon:"email",input_value:E,changeTarget:function(e){return N(e.target.value)}})}),Object(d.jsx)("button",{onClick:function(e){E!==c.email?g(E).then((function(){_.collection("users").doc(a.uid).update({email:E}),s("")})).catch((function(e){alert(e)})):alert("Same email !")},className:"btn-change",children:"Change Email"})]}),"ps"===t&&Object(d.jsxs)("div",{className:"password center-setting",children:[Object(d.jsxs)("div",{className:"flex-inputs-set",children:[Object(d.jsx)(U,{input_name:"Password",input_type:te,input_icon:"lock",input_visi:"visi",changePS:function(){R?(ne("password"),J(!1)):(ne("text"),J(!0))},password_visibility:R,input_value:y,changeTarget:function(e){q(e.target.value)}}),Object(d.jsx)(U,{input_name:"Password Confrim",input_type:ie,input_icon:"lock",input_visi:"visi_con",changePS:function(){Z?(ae("password"),$(!1)):(ae("text"),$(!0))},password_visibility:Z,input_value:P,changeTarget:function(e){M(e.target.value)}})]}),Object(d.jsx)("button",{onClick:function(){if(y===P){try{r(y)}catch(e){alert(e)}s("")}else alert("Password is not confirm")},className:"btn-change",children:"Change Password"})]}),"pr"===t&&Object(d.jsxs)("div",{className:"profile-picture center-setting",children:[Object(d.jsxs)("div",{className:"image-change",children:[Object(d.jsx)("img",{onClick:function(){var e=document.querySelector(".file_input_img"),A=new MouseEvent("click",{bubbles:!0});e.dispatchEvent(A)},alt:"",className:"add-picture",title:"Click and choose new profile picture",src:k||c[0].profilePic||K}),Object(d.jsx)("span",{className:"material-icons plus-pr",children:"add"})]}),Object(d.jsx)("button",{onClick:function(){k?(W.ref("users").child(a.uid+"/profile-picture/"+I.name).put(I).then((function(){W.ref("users").child(a.uid+"/profile-picture/"+I.name).getDownloadURL().then((function(e){_.collection("users").doc(a.uid).update({profilePic:e})}))})),s("")):alert("Choose new image to upload your profile picture"),B(null),C(null)},className:"btn-change",children:"Update Picture"})]})]})]})}),Te=function(){return Object(d.jsxs)("div",{id:"profile-settings",children:[Object(d.jsx)(he,{active:"profile-settings"}),Object(d.jsx)("div",{className:"dashboard-component-container",children:Object(d.jsx)("div",{className:"dashboard-component-wrapper",children:Object(d.jsx)(we,{})})})]})},ye=function(){return Object(d.jsx)(de,{children:Object(d.jsx)(Te,{})})},qe=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(E.a,{children:Object(d.jsx)(H,{children:Object(d.jsxs)(G.d,{children:[Object(d.jsx)(se,{exact:!0,path:"/",component:Ne}),Object(d.jsx)(se,{path:"/settings",component:ye}),Object(d.jsx)(G.b,{path:"/sign_up",component:Z}),Object(d.jsx)(G.b,{path:"/login",component:$}),Object(d.jsx)(G.b,{path:"/forgot_password",component:ee})]})})})})};t(99);i.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(qe,{})}),document.getElementById("root"))},57:function(e,A,t){},59:function(e,A,t){},61:function(e,A,t){},62:function(e,A,t){},63:function(e,A,t){},64:function(e,A,t){},65:function(e,A,t){},71:function(e,A,t){},75:function(e,A,t){},76:function(e,A,t){},80:function(e,A,t){},81:function(e,A,t){},82:function(e,A,t){},83:function(e,A,t){},84:function(e,A,t){},85:function(e,A,t){},86:function(e,A,t){},87:function(e,A,t){},88:function(e,A,t){},89:function(e,A,t){},90:function(e,A,t){},91:function(e,A,t){},92:function(e,A,t){},93:function(e,A,t){},94:function(e,A,t){},96:function(e,A,t){},97:function(e,A,t){},99:function(e,A,t){}},[[100,1,2]]]);
//# sourceMappingURL=main.20345b52.chunk.js.map